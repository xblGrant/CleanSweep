CREATE SCHEMA `room_schema` ;

create TABLE room(
	num int NOT NULL,
	fname VARCHAR(30) NOT NULL,
	fstatus VARCHAR(30) NOT NULL,
	isreservable BOOLEAN,
	assignedstatus int,
	PRIMARY KEY (num)
);

create TABLE guest(
	guestid int NOT NULL,
	fname VARCHAR(30),
	checkouttime DATE NOT NULL,
	wakeupcall DATE,
	fcomment VARCHAR(1000),
	roomnum int NOT NULL,
	PRIMARY KEY (guestid)
	FOREIGN KEY (roomnum) REFERENCES room
);

create TABLE employee(
	id int NOT NULL,
	fname VARCHAR(30) NOT NULL,
	ismanager BOOLEAN,
	epassword VARCHAR(256) NOT NULL,
	PRIMARY KEY (id)
);

create TABLE group(
	id int NOT NULL,
	fname VARCHAR(30),
	PRIMARY KEY (id)
);

create TABLE incident(
	roomnum int NOT NULL,
	id int NOT NULL,
	employeeid int NOT NULL,
	description VARCHAR(1000),
	isresolved BOOLEAN,
	PRIMARY KEY (id),
	FOREIGN KEY (roomnum) REFERENCES room,
	FOREIGN KEY (employeeid) REFERENCES employee
);

create TABLE cleaningassignmentlist(
	roomnum int NOT NULL,
	employeeid int NOT NULL,
	PRIMARY KEY(roomnum, employeeid),
	FOREIGN KEY(roomnum) REFERENCES room,
	FOREIGN KEY(employeeid) REFERENCES employee
);

create TABLE inspectlist(
	roomnum int NOT NULL,
	employeeid int NOT NULL,
	PRIMARY KEY(roomnum, employeeid),
	FOREIGN KEY(roomnum) REFERENCES room,
	FOREIGN KEY(employeeid) REFERENCES employee
);